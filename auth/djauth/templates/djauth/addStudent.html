<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title> joah project </title>

    {%load static%} 

    <link href="{% static 'djauth/mainpage.css' %}" rel="stylesheet">
    <link href="{% static 'djauth/addStudent.css' %}" rel="stylesheet"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  
    <header>
                    <a class="logo" href="/mainpage"> <img src="{% static 'djauth/media/joah-logo.png' %}" style="width:95px; height:55px"> </a>
                    <nav>
                        <ul class="navbar-links">
                            <li><a href="/teacherCalendar"> about us </a></li>
                            <li><a href="/teacherAnnouncement"> add announcement </a></li>
                            <li><a href="/addQuestion"> create test </a></li>
                            <li><a href="/addStudent"> add student </a></li>
                            
                            {% if user.is_authenticated %}
                                    <li><a href="/dash"> dashboard </a></li>
                                    {%endif%}
                            </ul>
                            <!-- <li><a href="#">About</a></li> -->
                        </ul>
                    </nav>
                    <div>
                        <ul class="navbar-links">
                            {% if user.is_authenticated %}
                            <span> Welcome to JoAh, {{user.username}}! | </span>
                            <li><a href="/logout"> logout </a></li>
                            {% else %}
                            <li><a href="/login"> login </a></li>
                        {%endif%}
                </div> </header>
  </head>

    <h1>Add Student</h1>
    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="first-name">First Name:</label>
        <input type="text" id="first-name" name="first_name" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="last-name">Last Name:</label>
        <input type="text" id="last-name" name="last_name" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="grade">Grade:</label>
        <input type="number" id="grade" name="grade" min="1" max="12" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="classes">Classes:</label>
        <select id="classes" name="classes" class="form-control" multiple>
            <option value="AP">AP</option>
            <option value="SAT">SAT</option>
            <option value="ACT">ACT</option>
        </select>
        <button type="button" id="add-class-btn" class="btn btn-primary">Add Class</button>
        <small id="class-added-msg" style="display:none;">Class was added</small>
        <button type="button" id="add-another-class-btn" class="btn btn-secondary" style="display:none;">Add Another</button>
        <ul id="class-list"></ul>
      </div>
      <div class="form-group">
        <label for="scores">Scores:</label>
        <input type="number" id="scores" name="scores" min="0" max="1600" class="form-control">
        <button type="button" id="add-score-btn" class="btn btn-primary">Add Score</button>
        <small id="score-added-msg" style="display:none;">Score was added</small>
        <button type="button" id="add-another-score-btn" class="btn btn-secondary" style="display:none;">Add Another</button>
        <ul id="score-list"></ul>
      </div>
      <button type="submit" class="btn btn-primary">Add Student</button>
    </form>
  
   
  <script>

    // Toggle visibility of class-added-msg and add-another-class-btn when add-class-btn is clicked
const addClassBtn = document.getElementById('add-class-btn');
const classAddedMsg = document.getElementById('class-added-msg');
const addAnotherClassBtn = document.getElementById('add-another-class-btn');
const classList = document.getElementById('class-list');

addClassBtn.addEventListener('click', () => {
  const selectedClass = document.getElementById('classes').value;
  if (!classList.querySelector(`[data-class="${selectedClass}"]`)) {
    const li = document.createElement('li');
    li.textContent = selectedClass;
    li.setAttribute('data-class', selectedClass);
    classList.appendChild(li);
    classAddedMsg.style.display = 'inline';
    addAnotherClassBtn.style.display = 'inline';
    addClassBtn.style.display = 'none';
    document.getElementById('classes').selectedIndex = 0;
  }
});

addAnotherClassBtn.addEventListener('click', () => {
  addClassBtn.style.display = 'inline';
  addAnotherClassBtn.style.display = 'none';
});

// Toggle visibility of score-added-msg and add-another-score-btn when add-score-btn is clicked
const addScoreBtn = document.getElementById('add-score-btn');
const scoreAddedMsg = document.getElementById('score-added-msg');
const addAnotherScoreBtn = document.getElementById('add-another-score-btn');
const scoreList = document.getElementById('score-list');

addScoreBtn.addEventListener('click', () => {
  const scoreInput = document.getElementById('scores');
  const scoreValue = scoreInput.value;
  if (scoreValue !== '' && !scoreList.querySelector(`[data-score="${scoreValue}"]`)) {
    const li = document.createElement('li');
    li.textContent = scoreValue;
    li.setAttribute('data-score', scoreValue);
    scoreList.appendChild(li);
    scoreAddedMsg.style.display = 'inline';
    addAnotherScoreBtn.style.display = 'inline';
    addScoreBtn.style.display = 'none';
    scoreInput.value = '';
  }
});

addAnotherScoreBtn.addEventListener('click', () => {
  addScoreBtn.style.display = 'inline';
  addAnotherScoreBtn.style.display = 'none';
});
</script>