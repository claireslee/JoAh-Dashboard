{% extends 'djauth/dependencies.html' %}


{% load static %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="{% static 'django_select2/css/select2.css' %}">
    <script type="text/javascript" src="{% static 'django_select2/js/select2.full.min.js' %}"></script>
    
    <style type="text/css" media="screen">

        .main { 
        background-color: #FFFFFF;
        width: 485px;
        height: 485px;
        margin: 6em auto;
        border-radius: 1.5em;
        box-shadow: 0px 11px 35px 2px rgba(0, 0, 0, 0.14);
        }

        .sign {
        padding-top: 40px;
        color: #ffa600;
        font-family: 'Ubuntu', sans-serif;
        font-weight: bold;
        font-size: 40px;
        }

        .user {
        width: 85%;
        color: rgb(64, 72, 78);
        font-weight: 600;
        font-size: 15px;
        letter-spacing: 3px;
        padding: 0px 0px;
        border: none;
        border-radius: 30px;
        outline: none;
        box-sizing: border-box;
        margin-bottom: 0px;
        margin-left: 10px;
        text-align: center;
        margin-bottom: 0px;
        font-family: 'Ubuntu', sans-serif;
        }

        .submit {
        cursor: pointer;
        border-radius: 5em;
        color: #fff;
        background: linear-gradient(to right, #ff8000,#ffa600);
        border: none;
        padding-left: 40px;
        padding-right: 40px;
        padding-bottom: 10px;
        padding-top: 10px;
        font-family: 'Ubuntu', sans-serif;
        margin-left: 0%;
        font-size: 20px;
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.04);
        }

        @media (max-width: 600px) {
        .main {
            border-radius: 0px;
        }
        
        
        }
    </style>
    <title> joah project </title>

</head>
  
<body style="background-color:#fde4c9">
    
<a  href="/dash"> Back to Dashboard </a>
<div class="main">
    <center>
    <div class="col-md-6">
        <p class="sign" align="center">Create an Exam</p>
        <div class="card card-body">
            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
            
                {{ formset.management_form }}
            
                {% for form in formset.forms %}
                    {{ form.as_p}}
                {% endfor %}
                <div id="question-fields"></div>

                <input type="submit" class = "submit" name="Submit">
            </form>
           <!-- <form action="" method="POST">
              {% csrf_token %}
              <div class="user">
               <span class="user">{{form.as_p}}</span>
               </div>
               <br>
             <input type="submit" class = "submit" name="Submit">
             </form> -->
            </div>
        </div>
    </div>
    </center>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
      $('#id_number').change(function() {
        var numQuestions = parseInt($(this).val());
        // console.log("numQuestions: " + numQuestions);
        var formFields = '';
        for (var i = 1; i < numQuestions; i++) {
          formFields += '<div class="question-field">' +
                        '<label for="id_questions-' + i + '-question">Question ' + (i + 1) + ': </label>' +
                        '<input type="text" name="questions-' + i + '-question" id="id_questions-' + i + '-question" required>' + '<br>' +
                        '<label for="id_questions-' + i + '-op1">Op1: </label>' +
                        '<input type="text" name="questions-' + i + '-op1" id="id_questions-' + i + '-op1" required>' + '<br>' +
                        '<label for="id_questions-' + i + '-op2">Op2: </label>' +
                        '<input type="text" name="questions-' + i + '-op2" id="id_questions-' + i + '-op2" required>' + '<br>' +
                        '<label for="id_questions-' + i + '-op3">Op3: </label>' +
                        '<input type="text" name="questions-' + i + '-op3" id="id_questions-' + i + '-op3" required>' + '<br>' +
                        '<label for="id_questions-' + i + '-op4">Op4: </label>' +
                        '<input type="text" name="questions-' + i + '-op4" id="id_questions-' + i + '-op4" required>' + '<br>' +
                        '<label for="id_questions-' + i + '-ans">Ans: </label>' +
                        '<input type="text" name="questions-' + i + '-ans" id="id_questions-' + i + '-ans" required>' + '<br>' +
                        '</div>' + '<br>';
            //  formFields += '<input type="hidden" name="questions-' + i + '-question" value="' + (i + 1) + '">' +
            //             '<input type="hidden" name="questions-' + i + '-op1" value="">' +
            //             '<input type="hidden" name="questions-' + i + '-op2" value="">' +
            //             '<input type="hidden" name="questions-' + i + '-op3" value="">' +
            //             '<input type="hidden" name="questions-' + i + '-op4" value="">' +
            //             '<input type="hidden" name="questions-' + i + '-ans" value="">';
        }
    $('#question-fields').html(formFields);
  });
}); 
</script>

</body>

{% endblock %}